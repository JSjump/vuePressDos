(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{750:function(t,e,a){"use strict";a.r(e);var v=a(69),_=Object(v.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[t._v("#")]),t._v(" Response")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"http状态码-status"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http状态码-status"}},[t._v("#")]),t._v(" HTTP状态码 -- STATUS")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("状态码")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("200 OK")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("服务器成功返回请求的数据")])]),t._v(" "),a("tr",[a("td",[t._v("201 CREATED")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("新建或修改数据成功")])]),t._v(" "),a("tr",[a("td",[t._v("202 Accepted")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("表示一个请求已经进入后台排队（异步任务）")])]),t._v(" "),a("tr",[a("td",[t._v("204 NO CONTENT")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("删除数据成功")])]),t._v(" "),a("tr",[a("td",[t._v("400 INVALID REQUEST")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("请求有错误，服务器没有进行新建或修改数据的操作（幂等操作）")])]),t._v(" "),a("tr",[a("td",[t._v("401 Unauthorized")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("没有权限（令牌、用户名、密码错误）")])]),t._v(" "),a("tr",[a("td",[t._v("403 Forbidden")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("得到授权（与401错误相对），但是访问是被禁止的")])]),t._v(" "),a("tr",[a("td",[t._v("404 NOT FOUND")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("请求记录不存在，服务器没有进行操作（幂等操作）")])]),t._v(" "),a("tr",[a("td",[t._v("406 Not Acceptable")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("请求的格式不符合（比如用户请求JSON格式，但是只有XML格式）")])]),t._v(" "),a("tr",[a("td",[t._v("500 INTERNAL SERVER ERROR")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("服务器发生错误，无法判断发出的请求是否成功")])])])]),t._v(" "),a("h3",{attrs:{id:"code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#code"}},[t._v("#")]),t._v(" CODE")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("状态码")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("20000")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("success")])]),t._v(" "),a("tr",[a("td",[t._v("4XXXX")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Client error")])]),t._v(" "),a("tr",[a("td",[t._v("40001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Parameter cannot be empty（参数不可为空）")])]),t._v(" "),a("tr",[a("td",[t._v("40002")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Please check the parameter constraints（The parameter is not of the expected type） "),a("br"),t._v("参数约束请检查（参数不是期望的类型）")])]),t._v(" "),a("tr",[a("td",[t._v("5XXXX")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Server error")])]),t._v(" "),a("tr",[a("td",[t._v("50001")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("invalid access token")])]),t._v(" "),a("tr",[a("td",[t._v("50002")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("already login in other place")])]),t._v(" "),a("tr",[a("td",[t._v("50003")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("access token expired")])]),t._v(" "),a("tr",[a("td",[t._v("50004")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("invalid user (user not exist)")])]),t._v(" "),a("tr",[a("td",[t._v("50005")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("username or password is incorrect")])])])]),t._v(" "),a("h3",{attrs:{id:"格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[t._v("#")]),t._v(" 格式")]),t._v(" "),a("ul",[a("li",[t._v("前后端交互字段全部使用小驼峰方式")]),t._v(" "),a("li",[t._v("前后端传输字段需要符合驼峰命名：userName")]),t._v(" "),a("li",[t._v("后台返回数据字段需都在data里，不得在data之外；除与前端商定过")]),t._v(" "),a("li",[t._v("后台返回值为空时，需返回相对应的键名如：{listData: null} (键值为空时值null)")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n  "code": "20000", // 见上述表格（CODE）\n  "status": "200", // 见上述表格（STATUS）\n  "data": []/{}, // 多条记录使用JSON数组，单条记录使用JSON对象\n  "message": []     // 状态为error或fail时，对应的错误信息\n}\n')])])]),a("ul",[a("li",[t._v("为什么要使用code和status，使用一个记录不是可以？")])]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[a("strong",[t._v("讲解")]),t._v("：")])]),t._v(" "),a("li",[a("p",[t._v("而code是后端手动根据情况而制定的编码，方便前端提示客户端")])]),t._v(" "),a("li",[a("p",[t._v("因为status主要记录的是HTTP响应码，好多javascript框架并不会获取http状态码，所以包装到body中便于使用；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("作用")]),t._v("：")])]),t._v(" "),a("li",[a("p",[t._v('前端根据code在请求的拦截器做处理，若code !== "20000"，则将message作为错误信息提示客户端；在请求拦截器被拦截到错误，也不会继续走该页面上的逻辑处理')])]),t._v(" "),a("li",[a("p",[t._v('code === "20000"的情况下，客户端的请求将通过拦截器走到页面的逻辑处理，这时可以将status来作为该请求在页面上的相应提示与逻辑判断')])])])])])}),[],!1,null,null,null);e.default=_.exports}}]);